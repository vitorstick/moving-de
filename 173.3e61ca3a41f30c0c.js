"use strict";(self.webpackChunkmoving_de=self.webpackChunkmoving_de||[]).push([[173],{9173:(f,a,i)=>{i.r(a),i.d(a,{SpeechRecognitionComponent:()=>T});var r=i(4755),u=i(4004),t=i(2223),l=i(1728),g=i(430);function m(e,c){if(1&e&&(t.ynx(0),t.TgZ(1,"div",1)(2,"span"),t._uU(3,"Did you said? "),t.qZA(),t.TgZ(4,"b"),t._uU(5),t.qZA()(),t.BQk()),2&e){const n=t.oxw();t.xp6(5),t.Oqu(n.spokenText())}}let h=(()=>{class e{constructor(n){this.cdr=n,this.textSubmit=new t.vpe,this.spokenText=(0,t.tdS)(""),this.recognition=new window.webkitSpeechRecognition,(0,t.cEC)(()=>{this.textSubmit.emit(this.spokenText())})}ngOnInit(){this.recognition.lang="de-DE",this.recognition.onresult=n=>{this.spokenText.set(n.results[n.resultIndex][0].transcript),this.cdr.detectChanges()},this.recognition.onspeechend=()=>{this.recognition.stop(),console.info("Speech recognition has stopped.")}}handleButtonStartClick(n){n.preventDefault(),n.stopPropagation(),this.recognition.start()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-recognition"]],outputs:{textSubmit:"textSubmit"},standalone:!0,features:[t.jDz],decls:10,vars:1,consts:[[1,"recognition-container"],[1,"recognition-container--title"],[1,"recognition-container--buttons"],["mat-button","","color","primary","aria-label","play-button with play icon",3,"click"],[4,"ngIf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Speech Recognition"),t.qZA()(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(p){return o.handleButtonStartClick(p)}),t.TgZ(6,"mat-icon"),t._uU(7,"mic"),t.qZA(),t._uU(8," Speak to the microphone "),t.qZA()(),t.YNc(9,m,6,1,"ng-container",4),t.qZA()),2&n&&(t.xp6(9),t.Q6J("ngIf",o.spokenText()&&o.spokenText().length))},dependencies:[g.Ps,g.Hw,l.ot,l.lW,r.O5],styles:[".recognition-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:20px}"],changeDetection:0}),e})();var d=i(2257),x=i(2052);let T=(()=>{class e{constructor(n){this.translateApi=n,this.spokenText=""}handleText(n){this.spokenText=n,this.translatedText$=this.translateApi.translate(n,"en").pipe((0,u.U)(o=>o[0][0][0]))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(x._))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-speech-recognition"]],standalone:!0,features:[t.jDz],decls:3,vars:4,consts:[[3,"textSubmit"],[3,"text","originalText"]],template:function(n,o){1&n&&(t.TgZ(0,"app-recognition",0),t.NdJ("textSubmit",function(p){return o.handleText(p)}),t.qZA(),t._UZ(1,"app-speech",1),t.ALo(2,"async")),2&n&&(t.xp6(1),t.Q6J("text",o.spokenText)("originalText",t.lcZ(2,2,o.translatedText$)))},dependencies:[h,r.Ov,d.t],encapsulation:2}),e})()}}]);